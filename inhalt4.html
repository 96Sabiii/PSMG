<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Harry Potter</title>
      <!-- 	<link type="text/css" rel="stylesheet" href="res/css/materialize/css/materialize.css" /> -->
      <link href="https://fonts.googleapis.com/css?family=Antic+Slab|Arizonia|Fredericka+the+Great|Gloria+Hallelujah|Indie+Flower|Kaushan+Script|Love+Ya+Like+A+Sister|Lovers+Quarrel|Ruthie|Special+Elite|Spirax" rel="stylesheet"> 
      <link type="text/css" rel="stylesheet" href="res/css/font-awesome/css/font-awesome.min.css">
      <link type="text/css" rel="stylesheet" href="res/css/cards.css">
      <link type="text/css" rel="stylesheet" href="res/css/app.css">
      <link type="text/css" rel="stylesheet" href="res/css/charts.css">
   </head>
   <body>


  <!-- GROUPED BAR CHART WÖRTER, nach https://bl.ocks.org/mbostock/3887051-->

<style>
/* für tooltip, der fehlt noch
Harry Potter and the Sorcerer’s Stone
Harry Potter and the Chamber of Secret
Harry Potter and the Prisoner of Azkaban
Harry Potter and the Goblet of Fire
Harry Potter and the Order of the Phoenix
Harry Potter and the Half-Blood Prince,
Harry Potter and the Deathly Hallows */


.axis .domain {
  display: none;
}

</style>
<svg width="450" height="350"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

var svg = d3.select("svg"),
    margin = {top: 20, right: 20, bottom: 30, left: 40},
    width = +svg.attr("width") - margin.left - margin.right,
    height = +svg.attr("height") - margin.top - margin.bottom,
    g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");

var x0 = d3.scaleBand()
    .rangeRound([0, width])
    .paddingInner(0.1);

var x1 = d3.scaleBand()
    .padding(0.05);

var y = d3.scaleLinear()
    .rangeRound([height, 0]);

var z = d3.scaleOrdinal()
    .range(["#1D8089","#CA295A","#E1822E","#71C929", "#A71944"]);

d3.csv("res/assets/data/words.csv", function(d, i, columns) {
   console.log(d,i,columns);
  for (var i = 1, n = columns.length; i < n; ++i) d[columns[i]] = +d[columns[i]];
  return d;
}, function(error, data) {
  if (error) throw error;

  var keys = data.columns.slice(1);

  x0.domain(data.map(function(d) { return d.title; }));
  x1.domain(keys).rangeRound([0, x0.bandwidth()]);
  y.domain([0, d3.max(data, function(d) { return d3.max(keys, function(key) { return d[key]; }); })]).nice();

  g.append("g")
    .selectAll("g")
    .data(data)
    .enter().append("g")
      .attr("transform", function(d) { return "translate(" + x0(d.title) + ",0)"; })
    .selectAll("rect")
    .data(function(d) { return keys.map(function(key) { return {key: key, value: d[key]}; }); })
    .enter().append("rect")
      .attr("x", function(d) { return x1(d.key); })
      .attr("y", function(d) { return y(d.value); })
      .attr("width", x1.bandwidth())
      .attr("height", function(d) { return height - y(d.value); })
      .attr("fill", function(d) { return z(d.key); });

  g.append("g")
      .attr("class", "axis")
      .attr("transform", "translate(0," + height + ")")
      .call(d3.axisBottom(x0));

  g.append("g")
      .attr("class", "axis")
      .call(d3.axisLeft(y).ticks(null, "s"))
    .append("text")
      .attr("x", 2)
      .attr("y", y(y.ticks().pop()) + 0.5)
      .attr("dy", "0.32em")
      .attr("fill", "#000")
      .attr("font-weight", "bold")
      .attr("text-anchor", "start")
      .text("Count");

  var legend = g.append("g")
      .attr("font-family", "sans-serif")
      .attr("font-size", 10)
      .attr("text-anchor", "end")
    .selectAll("g")
    .data(keys.slice().reverse())
    .enter().append("g")
      .attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });

  legend.append("rect")
      .attr("x", width - 19)
      .attr("width", 19)
      .attr("height", 19)
      .attr("fill", z);

  legend.append("text")
      .attr("x", width - 24)
      .attr("y", 9.5)
      .attr("dy", "0.32em")
      .text(function(d) { return d; });
});

</script>
      

<!-- STACKED BAR CHART SATZZEICHEN, nach https://bl.ocks.org/mbostock/3886208-->

<style>

.axis .domain {
  display: none;
}

/* für tooltip, der fehlt noch
Harry Potter and the Sorcerer’s Stone
Harry Potter and the Chamber of Secret
Harry Potter and the Prisoner of Azkaban
Harry Potter and the Goblet of Fire
Harry Potter and the Order of the Phoenix
Harry Potter and the Half-Blood Prince,
Harry Potter and the Deathly Hallows */

</style>

<svg width="450" height="350"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>


var svg = d3.select("svg"),
    margin = {top: 20, right: 20, bottom: 30, left: 40},
    width = +svg.attr("width") - margin.left - margin.right,
    height = +svg.attr("height") - margin.top - margin.bottom,
    g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");


var x = d3.scaleBand()
    .rangeRound([0, width])
    .paddingInner(0.05)
    .align(0.1);

var y = d3.scaleLinear()
    .rangeRound([height, 0]);

var z = d3.scaleOrdinal()
    .range(["#1D8089","#CA295A","#E1822E","#71C929", "#A71944"]);

d3.csv("res/assets/data/satzzeichen.csv", function(d, i, columns) {
   console.log(d,i,columns);
  for (i = 1, t = 0; i < columns.length; ++i) t += d[columns[i]] = +d[columns[i]];
  d.total = t;
  return d;
}, function(error, data) {
  if (error) throw error;

  var keys = data.columns.slice(1);

  data.sort(function(a, b) { return b.total - a.total; });
  x.domain(data.map(function(d) { return d.title; }));
  y.domain([0, d3.max(data, function(d) { return d.total; })]).nice();
  z.domain(keys);

  
  g.append("g")
    .selectAll("g")
    .data(d3.stack().keys(keys)(data))
    .enter().append("g")
      .attr("fill", function(d) { return z(d.key); })
    .selectAll("rect")
    .data(function(d) { return d; })
    .enter().append("rect")
      .attr("x", function(d) { return x(d.data.title); })
      .attr("y", function(d) { return y(d[1]); })
      .attr("height", function(d) { return y(d[0]) - y(d[1]); })
      .attr("width", x.bandwidth());

  g.append("g")
      .attr("class", "axis")
      .attr("transform", "translate(0," + height + ")")
      .call(d3.axisBottom(x));


  g.append("g")
      .attr("class", "axis")
      .call(d3.axisLeft(y).ticks(null, "s"))
    .append("text")
      .attr("x", 2)
      .attr("y", y(y.ticks().pop()) + 0.5)
      .attr("dy", "0.32em")
      .attr("fill", "#000")
      .attr("font-weight", "bold")
      .attr("text-anchor", "start")
      .text("Counts");

  var legend = g.append("g")
      .attr("font-family", "sans-serif")
      .attr("font-size", 10)
      .attr("text-anchor", "end")
    .selectAll("g")
    .data(keys.slice().reverse())
    .enter().append("g")
      .attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });


  legend.append("rect")
      .attr("x", width - 19)
      .attr("width", 19)
      .attr("height", 19)
      .attr("fill", z);

  legend.append("text")
      .attr("x", width - 24)
      .attr("y", 9.5)
      .attr("dy", "0.32em")
      .text(function(d) { return d; });
});

</script>

      <header>
         <div class="navigation">
            <nav>
               <a href="index.html">Welcome</a>&nbsp;
               <a href="inhalt1.html">Actions</a>&nbsp;
               <a href="inhalt2.html">Spells</a>&nbsp;
               <a href="inhalt3.html">Characters</a>&nbsp;
               <a id="aktuell" href="inhalt4.html">Facts</a>&nbsp;
            </nav>
         </div>
          <h1>Some random Facts</h1>
          <h2>Hover over the pictures for some awesome Potter facts</h2>
      </header>
      <main>
         <!--  nach http://harrypotter.wikia.com/wiki/The_Quibbler_articles 
            http://www.hogwartsishere.com/library/book/6198/chapter/2/-->
         <div class="collumns">
            <div class="collumn">
               <div class="head">
                  <span class="headline h1">DUMBLEDORE — THE TRUTH AND LIES"</span>
                  <p><span class="subheadline h1">sdfghjkl</span></p>
               </div>
               <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
               <figure class="figure">
                  <img class="media" src="https://media.giphy.com/media/10EDQ56v0Fl5Go/giphy.gif" alt="Snape clapping Gif">
                  <figcaption class="figcaption">This is a happy Potions Master</figcaption>
               </figure>
            </div>
            <div class="collumn">
               <div class="head">
                  <span class="headline h2">"MORE LIES ABOUT DUMBLEDORE!" </span>
                  <p><span class="subheadline h2">FINALLY FOUND AFTER 16 YEARS</span></p>
               </div>
               <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
               <figure class="figure">
                  <img class="media" src="https://media.giphy.com/media/sOoX5jiJhVb0I/giphy.gif" alt="Ron hit by broom Gif">
                  <figcaption class="figcaption">Beware - Agressive Brooms Sighted!</figcaption>
               </figure>
               <p>ILorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
            </div>
            <div class="collumn">
               <div class="head">
                  <span class="headline h3">"DUMBLEDORE — THE TRUE AND THE WISE!" </span>
                  <p><span class="subheadline h3">"Dumbledore Death Deceit Discredited!" </span></p>
                  <svg class="expand" id="Chart4"  viewBox="0 0 1250 1250"></svg>
               </div>
            </div>
         </div>
      </main>
   </body>

   <script type="text/javascript" src="res/js/lib/jquery-3.3.1.min.js"></script>
   <script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.0.1/d3.v3.min.js"></script>
   <script type="text/javascript" src="res/js/lib/events.js"></script>
   <script type="text/javascript" src="res/js/lib/d3/d3.js"></script>
   <script type="text/javascript" src="res/js/src/hp.js"></script>
   <script type="text/javascript" src="res/js/src/hpActionsModel.js"></script>
   <script type="text/javascript" src="res/js/src/hpSpellModel.js"></script>
   <script type="text/javascript" src="res/js/src/hpSpellView.js"></script>
   <script type="text/javascript" src="res/js/src/hpActionsView.js"></script>
   <script type="text/javascript" src="res/js/src/hpRelationsView.js"></script>
   <script type="text/javascript" src="res/js/src/hpRelationsModel.js"></script>
   <script>
      hp.init();
      //hp.onCardFourClicked();
   </script>
</html>

