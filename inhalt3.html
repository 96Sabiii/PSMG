<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Harry Potter</title>
      <!-- 	<link type="text/css" rel="stylesheet" href="res/css/materialize/css/materialize.css" /> -->
      <link href="https://fonts.googleapis.com/css?family=Antic+Slab|Arizonia|Fredericka+the+Great|Gloria+Hallelujah|Indie+Flower|Kaushan+Script|Love+Ya+Like+A+Sister|Lovers+Quarrel|Ruthie|Special+Elite|Spirax" rel="stylesheet"> 
      <link type="text/css" rel="stylesheet" href="res/css/font-awesome/css/font-awesome.min.css">
      <link type="text/css" rel="stylesheet" href="res/css/cards.css">
      <link type="text/css" rel="stylesheet" href="res/css/app.css">
      <link type="text/css" rel="stylesheet" href="res/css/charts.css">
      <link rel="stylesheet" type="text/css" href="slick/slick-theme.css"/>
   </head>
   <body>


<!-- DONUT CHART MIT LABELS, HIER DIE MOVIES UND BOOKS SALES FIGURES EINBAUEN, SODASS BEIM KLICK AUF DEN "RANDOM-BUTTON"
   DIE JEWEILS ANDEREN DATEN ANGEZEIGT WERDEN-->

<style>

svg {
   width: 100%;
   height: 100%;
}

path.slice{
   stroke-width:2px;
}

polyline{
   opacity: .3;
   stroke: black;
   stroke-width: 2px;
   fill: none;
}

</style>
<body>
<button class="randomize">randomize</button>

<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

var svg = d3.select("body")
   .append("svg")
   .append("g")

svg.append("g")
   .attr("class", "slices");
svg.append("g")
   .attr("class", "labels");
svg.append("g")
   .attr("class", "lines");

var width = 960,
    height = 450,
   radius = Math.min(width, height) / 2;

var pie = d3.layout.pie()
   .sort(null)
   .value(function(d) {
      return d.value;
   });

var arc = d3.svg.arc()
   .outerRadius(radius * 0.8)
   .innerRadius(radius * 0.4);

var outerArc = d3.svg.arc()
   .innerRadius(radius * 0.9)
   .outerRadius(radius * 0.9);

svg.attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

var key = function(d){ return d.data.label; };

var color = d3.scale.ordinal()
   .domain(["Lorem ipsum", "dolor sit", "amet", "consectetur", "adipisicing", "elit", "sed", "do", "eiusmod", "tempor", "incididunt"])
   .range(["#98abc5", "#8a89a6", "#7b6888", "#6b486b", "#a05d56", "#d0743c", "#ff8c00"]);

function randomData (){
   var labels = color.domain();
   return labels.map(function(label){
      return { label: label, value: Math.random() }
   });
}

change(randomData());

d3.select(".randomize")
   .on("click", function(){
      change(randomData());
   });


function change(data) {

   /* ------- PIE SLICES -------*/
   var slice = svg.select(".slices").selectAll("path.slice")
      .data(pie(data), key);

   slice.enter()
      .insert("path")
      .style("fill", function(d) { return color(d.data.label); })
      .attr("class", "slice");

   slice    
      .transition().duration(1000)
      .attrTween("d", function(d) {
         this._current = this._current || d;
         var interpolate = d3.interpolate(this._current, d);
         this._current = interpolate(0);
         return function(t) {
            return arc(interpolate(t));
         };
      })

   slice.exit()
      .remove();

   /* ------- TEXT LABELS -------*/

   var text = svg.select(".labels").selectAll("text")
      .data(pie(data), key);

   text.enter()
      .append("text")
      .attr("dy", ".35em")
      .text(function(d) {
         return d.data.label;
      });
   
   function midAngle(d){
      return d.startAngle + (d.endAngle - d.startAngle)/2;
   }

   text.transition().duration(1000)
      .attrTween("transform", function(d) {
         this._current = this._current || d;
         var interpolate = d3.interpolate(this._current, d);
         this._current = interpolate(0);
         return function(t) {
            var d2 = interpolate(t);
            var pos = outerArc.centroid(d2);
            pos[0] = radius * (midAngle(d2) < Math.PI ? 1 : -1);
            return "translate("+ pos +")";
         };
      })
      .styleTween("text-anchor", function(d){
         this._current = this._current || d;
         var interpolate = d3.interpolate(this._current, d);
         this._current = interpolate(0);
         return function(t) {
            var d2 = interpolate(t);
            return midAngle(d2) < Math.PI ? "start":"end";
         };
      });

   text.exit()
      .remove();

   /* ------- SLICE TO TEXT POLYLINES -------*/

   var polyline = svg.select(".lines").selectAll("polyline")
      .data(pie(data), key);
   
   polyline.enter()
      .append("polyline");

   polyline.transition().duration(1000)
      .attrTween("points", function(d){
         this._current = this._current || d;
         var interpolate = d3.interpolate(this._current, d);
         this._current = interpolate(0);
         return function(t) {
            var d2 = interpolate(t);
            var pos = outerArc.centroid(d2);
            pos[0] = radius * 0.95 * (midAngle(d2) < Math.PI ? 1 : -1);
            return [arc.centroid(d2), outerArc.centroid(d2), pos];
         };       
      });
   
   polyline.exit()
      .remove();
};

</script>


      <header>
         <div class="navigation">
            <nav>
               <a href="index.html">Welcome</a>&nbsp;
               <a href="inhalt1.html">Actions</a>&nbsp;
               <a href="inhalt2.html">Spells</a>&nbsp;
               <a id="aktuell" href="inhalt3.html">Characters</a>&nbsp;
               <a href="inhalt4.html">Facts</a>&nbsp;
            </nav>
        </div>
         <h1>Characters of the Potter Universe</h1>
         <h2>Hover over the chart to see some character interaction action and get further information</h2>
      </header>
      <main>
         <!--  nach http://harrypotter.wikia.com/wiki/The_Quibbler_articles 
            http://www.hogwartsishere.com/library/book/6198/chapter/2/-->
         <div class="collumns">
            <div class="collumn">
               <div class="head">
                  <span class="headline h1">"SIRIUS â€” <br>BLACK AS HE'S PAINTED?"</span>
                  <p><span class="subheadline h1">by Xenophilius Lovegood</span></p>
               </div>
               For fourteen years Sirius Black has been believed guilty of the mass murder of twelve innocent Muggles and one wizard. Black's audacious escape from Azkaban two years ago has led to the widest manhunt ever conducted by the Ministry of Magic. None of us have ever questioned that he deserves to be recaptured and handed back to the Dementors.</p>
               <figure class="figure">
                  <img class="media" src="https://media.giphy.com/media/TzJxDdJckPQ9q/giphy.gif" alt="Sirius Black Wanted Gif">
                  <figcaption class="figcaption">Notorious Mass Murderer OR Innocent Singing Sensation?</figcaption>
               </figure>
            </div>
            <div class="collumn">
               <div class="head">
                  <span class="headline h2">MARAUDER'S MAP</span>
                  <p><span class="subheadline h2">FINALLY FOUND AFTER 16 YEARS</span></p>
               
               Yesterday, some students at Hogwarts found the Marauder's Map in the Hogwarts corridors. The map had previously belonged to Harry Potter, Ron Weasley, and Hermione Granger, the most superb students in the school`s history.The map was in great condition and was quickly com into use again. The students are currently looking for the Sorcerer's Stone, which hasn't been seen since Harry Potter first discovered it in his first year at Hogwarts. </p></div>
               <figure class="figure">
                  <img class="media" src="https://media.giphy.com/media/rlY5Dqpi7ivja/giphy.gif" alt="Marauders Map Gif">
                  <figcaption class="figcaption">Messrs Moony, Wormtail, Padfoot, and Prongs Purveyors of Aids to Magical Mischief-Makers are proud to present <br>THE MARAUDER'S MAP</figcaption>
               </figure>
               <p>If you see or find the Marauder's Map, please return it to the staff at Hogwarts. This magical artigact cannot be used anymore for keep. If you need help navigating around Hogwarts feel free to ask your local Ghosts.</p>
            </div>
            <div class="collumn">
               <div class="head">
                  <span class="headline h3">Characters of the Potter Universe</span>
                  <p><span class="subheadline h3">This is where the character magic happens</span></p>
               </div>


<!--POP-UP-->
<br>
<div class="button_box">
   <a class="button" href="#popup1">Click here for some MAGIC</a>
    
</div>

<div id="popup1" class="overlay">
   <div class="popup">
      <h2>Character Magic</h2>
      <a class="close" href="#">&times;</a>
      <div class="content">
       <svg id="Chart3"  viewBox="0 0  1550 1550"></svg>
      </div>
   </div>
</div>
</main>

         <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script type="text/javascript" src="slick/slick.min.js"></script>
   </body>
   <script type="text/javascript" src="res/js/lib/jquery-3.3.1.min.js"></script>
   <script src="res/js/lib/d3/d3.min.js"></script>
   <script src="http://d3js.org/d3.v3.min.js"></script>
   <script src="https://d3js.org/d3-queue.v3.min.js"></script>
   <script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.0.1/d3.v3.min.js"></script>
   <script type="text/javascript" src="res/js/lib/events.js"></script>
   <script type="text/javascript" src="res/js/lib/d3/d3.js"></script>
   <script type="text/javascript" src="res/js/src/hp.js"></script>
   <script type="text/javascript" src="res/js/src/hpActionsModel.js"></script>
   <script type="text/javascript" src="res/js/src/hpSpellModel.js"></script>
   <script type="text/javascript" src="res/js/src/hpSpellView.js"></script>
   <script type="text/javascript" src="res/js/src/hpActionsView.js"></script>
   <script type="text/javascript" src="res/js/src/hpRelationsView.js"></script>
   <script type="text/javascript" src="res/js/src/hpRelationsModel.js"></script>
   <script>
      hp.init();
      hp.onCardThreeClicked();
   </script>
</html>

